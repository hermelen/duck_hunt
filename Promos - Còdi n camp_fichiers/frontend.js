var utvFrontend={};utvFrontend.initialize=function(t){utvFrontend.setupObjects(t),utvFrontend.setupEvents(t)},utvFrontend.setupEvents=function(t){t(function(){var e=t(".utv-container"),a=t(".utv-panel");t.each(e,function(t,e){utvFrontend.memory.galleries.push(new utvFrontend.Gallery(e))}),t.each(a,function(t,e){utvFrontend.memory.panels.push(new utvFrontend.Panel(e))})})},utvFrontend.setupObjects=function(t){this.memory={galleries:new Array,panels:new Array,thumbwidth:parseInt(utvJSData.thumbnailWidth),thumbpadding:parseInt(utvJSData.thumbnailPadding)},this.Gallery=function(e){this.outercontainer=e,this.innercontainer=t(this.outercontainer).find(".utv-inner-wrapper"),this.setGalleryFlow=function(){var e=t(this.outercontainer).width(),a=Math.floor(e/(utvFrontend.memory.thumbwidth+2*utvFrontend.memory.thumbpadding)),i=(utvFrontend.memory.thumbwidth+2*utvFrontend.memory.thumbpadding)*a;t(this.innercontainer).css("width",i+"px"),t(this.outercontainer).removeClass("utv-invis")},this.setGalleryFlow(),t(window).resize({classRoot:this},function(t){t.data.classRoot.setGalleryFlow()}),t(window).on("load",{classRoot:this},function(t){t.data.classRoot.setGalleryFlow()}),t(this.outercontainer).on("click","a.utv-popup",function(){var e=t(this).attr("href"),a=t(this).attr("title");return t.magnificPopup.open({items:{src:e},type:"iframe",iframe:{patterns:new Array,markup:'<div class="utv-mfp-iframe-scaler mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" frameborder="0" width="'+utvJSData.playerWidth+'" height="'+utvJSData.playerHeight+'" allowfullscreen></iframe></div><div class="utv-mfp-bottom-bar"><div class="mfp-title"></div></div>'},key:"utvid",callbacks:{open:function(){t(".mfp-content").css("maxWidth",utvJSData.playerWidth+"px"),t(".mfp-title").text(a);var e=t(".mfp-bg");e.css("background",utvJSData.lightboxOverlayColor),e.css("opacity",utvJSData.lightboxOverlayOpacity)}}}),!1})},this.Panel=function(e){this.outercontainer=e,this.innercontainer=t(this.outercontainer).find(".utv-inner-wrapper"),this.panelTitle=t(this.outercontainer).find(".utv-video-panel-title"),this.panelPlayer=t(this.outercontainer).find(".utv-video-panel-iframe"),this.panelVideos=t(this.innercontainer).find(".utv-thumb"),this.pagingContainer=t(this.innercontainer).find(".utv-video-panel-paging"),this.pagingHandles=t(this.pagingContainer).find(".utv-panel-paging-handle"),this.backArrow=t(this.outercontainer).find(".utv-video-panel-bkarrow"),this.forwardArrow=t(this.outercontainer).find(".utv-video-panel-fwarrow"),this.panelVideoCount=parseInt(t(this.outercontainer).data("panel-video-count")),this.totalPages=Math.ceil(this.panelVideos.length/this.panelVideoCount),this.visibleControls=t(this.outercontainer).data("visible-controls"),this.currentPage=1,this.setPanelFlow=function(){var e=t(this.outercontainer).width(),a=Math.floor(e/(utvFrontend.memory.thumbwidth+2*utvFrontend.memory.thumbpadding)),i=(utvFrontend.memory.thumbwidth+2*utvFrontend.memory.thumbpadding)*a;t(this.innercontainer).css("width",i+"px"),t(this.outercontainer).removeClass("utv-invis")},this.showHidePanelVideos=function(e){var a=e+this.panelVideoCount-1;t.each(this.panelVideos,function(i,n){i<e||i>a?t(n).addClass("utv-hide"):t(n).removeClass("utv-hide")})},this.changePanelVideo=function(e){var a=e.data("type"),i=e.data("id"),n=e.data("name"),o=e.data("index"),s=e.data("stime"),r=e.data("etime"),l="";"youtube"==a?l="https://www.youtube.com/embed/"+i+"?modestbranding=1&rel=0&showinfo="+("1"==utvJSData.youtubeDetailsHide?"0":"1")+"&autohide=1&controls="+(1==this.visibleControls?"1":"0")+"&theme="+utvJSData.playerControlTheme+"&color="+utvJSData.playerProgressColor+"&autoplay="+utvJSData.youtubeAutoplay+"&iv_load_policy=3&start="+s+"&end="+r:"vimeo"==a&&(l="https://player.vimeo.com/video/"+i+"?autoplay="+utvJSData.vimeoAutoplay+"&autopause=0&"+("1"==utvJSData.vimeoDetailsHide?"title=0&portrait=0&byline=0&badge=0":"title=1&portrait=1&byline=1&badge=1")+"#t="+s),t(this.panelPlayer).attr("src",l),t(this.panelTitle).text(n);var d=Math.floor(o/this.panelVideoCount)+1;if(d!=this.currentPage){t(this.pagingHandles).removeClass("utv-panel-paging-active"),t.each(t(this.pagingHandles),function(e,a){t(a).text()==d&&t(a).addClass("utv-panel-paging-active")}),this.currentPage=d;var u=(d-1)*this.panelVideoCount;this.showHidePanelVideos(u)}},this.setPanelFlow(),this.showHidePanelVideos(0),t(window).resize({classRoot:this},function(t){t.data.classRoot.setPanelFlow()}),t(window).on("load",{classRoot:this},function(t){t.data.classRoot.setPanelFlow()}),t(this.innercontainer).on("click",".utv-thumb",{classRoot:this},function(e){var a=t(this);t(e.data.classRoot.panelVideos).removeClass("utv-panel-video-active"),a.addClass("utv-panel-video-active"),e.data.classRoot.changePanelVideo(a)}),this.pagingContainer.on("click",".utv-panel-paging-handle",{classRoot:this},function(e){var a=t(this),i=(parseInt(a.text())-1)*e.data.classRoot.panelVideoCount;e.data.classRoot.currentPage=a.text(),e.data.classRoot.showHidePanelVideos(i),t(e.data.classRoot.pagingContainer).find(".utv-panel-paging-handle").removeClass("utv-panel-paging-active"),a.addClass("utv-panel-paging-active")}),t(this.backArrow).click({classRoot:this},function(e){var a=t(e.data.classRoot.panelVideos).filter(".utv-panel-video-active"),i=t(a).prev();i.length>0&&(a.removeClass("utv-panel-video-active"),i.addClass("utv-panel-video-active"),e.data.classRoot.changePanelVideo(i))}),t(this.forwardArrow).click({classRoot:this},function(e){var a=t(e.data.classRoot.panelVideos).filter(".utv-panel-video-active"),i=t(a).next();i.length>0&&(a.removeClass("utv-panel-video-active"),i.addClass("utv-panel-video-active"),e.data.classRoot.changePanelVideo(i))})}},function(t){utvFrontend.initialize(t)}(jQuery);
